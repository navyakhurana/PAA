<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-project-panel/basic/push-data-to-saas-api/README">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Push data to the SaaS API | Build resilient apps with SAP BTP</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://navyakhurana.github.io/PAA/project-panel/basic/push-data-to-saas-api"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Push data to the SaaS API | Build resilient apps with SAP BTP"><meta data-rh="true" name="description" content="The SaaS sample application is equipped with a built-in SaaS API, that your subscribers can use, to push data to their Tenant database containers or to modify existing data. In this part of the tutorial, you will learn how to connect to this API endpoint as a SaaS Tenant and push some sample data."><meta data-rh="true" property="og:description" content="The SaaS sample application is equipped with a built-in SaaS API, that your subscribers can use, to push data to their Tenant database containers or to modify existing data. In this part of the tutorial, you will learn how to connect to this API endpoint as a SaaS Tenant and push some sample data."><link data-rh="true" rel="icon" href="/PAA/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://navyakhurana.github.io/PAA/project-panel/basic/push-data-to-saas-api"><link data-rh="true" rel="alternate" href="https://navyakhurana.github.io/PAA/project-panel/basic/push-data-to-saas-api" hreflang="en"><link data-rh="true" rel="alternate" href="https://navyakhurana.github.io/PAA/project-panel/basic/push-data-to-saas-api" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://SX6JA1B3F5-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Build resilient apps with SAP BTP" href="/PAA/opensearch.xml">

<script src="js/custom.js" async></script><link rel="stylesheet" href="/PAA/assets/css/styles.f9497dcc.css">
<link rel="preload" href="/PAA/assets/js/runtime~main.bb064a4d.js" as="script">
<link rel="preload" href="/PAA/assets/js/main.542c5efa.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/PAA/"><div class="navbar__logo"><img src="/PAA/img/githubFolder.png" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/PAA/img/githubFolder.png" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Develop a multitenant Software as a Service application in SAP BTP using CAP</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/SAP-samples/btp-kyma-cap-multitenant-susaas" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/PAA/">OVERVIEW</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/PAA/category/project-panel">PROJECT PANEL</a><button aria-label="Toggle the collapsible sidebar category &#x27;PROJECT PANEL&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/PAA/category/discover">Discover</a><button aria-label="Toggle the collapsible sidebar category &#x27;Discover&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/PAA/category/basic">Basic</a><button aria-label="Toggle the collapsible sidebar category &#x27;Basic&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/PAA/project-panel/basic/introduction-basic-version">Introduction to the Basic Version</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/PAA/project-panel/basic/understand-repo-structure">Understand the Repository Structure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/PAA/project-panel/basic/prepare-provider-subaccount">Prepare the Provider Subaccount</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/PAA/project-panel/basic/build-your-docker-images">Build, Pack and Push your Docker Images</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/PAA/project-panel/basic/deploy-saas-application">Deploy the SaaS application</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/PAA/project-panel/basic/subscribe-consumer-subaccount">Subscribe a Tenant Subaccount</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/PAA/project-panel/basic/push-data-to-saas-api">Push data to the SaaS API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/PAA/project-panel/basic/test-the-application">Test the application</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/PAA/project-panel/basic/kyma-resources-helm">Helm Charts and Kyma resources</a><button aria-label="Toggle the collapsible sidebar category &#x27;Helm Charts and Kyma resources&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/PAA/project-panel/basic/explore-the-components">Explore the application components</a><button aria-label="Toggle the collapsible sidebar category &#x27;Explore the application components&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/PAA/project-panel/basic/unsubscribe-consumer-subaccount">Optional - Unsubscribe from a Consumer Subaccount</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/PAA/project-panel/basic/undeploy-saas-application">Optional - Undeploy the SaaS Application</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/PAA/category/advanced">Advanced</a><button aria-label="Toggle the collapsible sidebar category &#x27;Advanced&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/PAA/category/expert">Expert</a><button aria-label="Toggle the collapsible sidebar category &#x27;Expert&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/PAA/support">SUPPORT</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/PAA/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/PAA/category/project-panel"><span itemprop="name">PROJECT PANEL</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/PAA/category/basic"><span itemprop="name">Basic</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Push data to the SaaS API</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Push data to the SaaS API</h1><p>The SaaS sample application is equipped with a built-in SaaS API, that your subscribers can use, to push data to their Tenant database containers or to modify existing data. In this part of the tutorial, you will learn how to connect to this API endpoint as a SaaS Tenant and push some sample data. </p><ul><li><a href="#push-data-to-the-saas-api">Push data to the SaaS API</a><ul><li><a href="#1-saas-api-access">1. SaaS API access</a></li><li><a href="#2-further-information">2. Further Information</a></li></ul></li></ul><p>In the <strong>Basic Version</strong>, we will keep it short and simple and explain how to interact with the SaaS API using the HTTP sample files provided as part of the GitHub repository. You can also run similar requests using tools like Postman or Insomnia. </p><p> <img loading="lazy" alt="&amp;lt;img src=&amp;quot;./images/API_ArchDetails.png&amp;quot; width=&amp;quot;600&amp;quot; /&amp;gt;" src="/PAA/assets/images/API_ArchDetails-bc786d9461e678fab537754f6ef50d80.png" width="865" height="355" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-saas-api-access">1. SaaS API access<a href="#1-saas-api-access" class="hash-link" aria-label="Direct link to 1. SaaS API access" title="Direct link to 1. SaaS API access">​</a></h2><p>Below you can see the tables of the Tenant data model which can be maintained by subscribers using the SaaS API. Besides product master data, SaaS subscribers can also use the API for transactional data allowing them to prefill their Sustainability assessments.</p><p> <img loading="lazy" alt="&amp;lt;img src=&amp;quot;./images/DM_Tables.png&amp;quot; width=&amp;quot;500&amp;quot; /&amp;gt;" src="/PAA/assets/images/DM_Tables-bc71ad404a604aba6486aed86cbe6d53.png" width="1564" height="798" class="img_ev3q"></p><p>The main entities like Products, Sales Orders and further Recycling data can be maintained using the API. As you can see, also some sample endpoints are provided for bulk inserts, updates, and upserts (implemented using a SAP HANA Stored Procedure or native CAP Upsert features). </p><p> <img loading="lazy" alt="&amp;lt;img src=&amp;quot;./images/API_Endpoints01.png&amp;quot; width=&amp;quot;300&amp;quot; /&amp;gt;" src="/PAA/assets/images/API_Endpoints01-844246cc82710b09a518a3a8832039e1.png" width="1011" height="633" class="img_ev3q">
<img loading="lazy" alt="&amp;lt;img src=&amp;quot;./images/API_Endpoints02.png&amp;quot; width=&amp;quot;300&amp;quot; /&amp;gt;" src="/PAA/assets/images/API_Endpoints02-f6c1ba3354e11fe43cf674f17d0fec62.png" width="1110" height="754" class="img_ev3q"></p><p>To connect to the SaaS API as a subscriber, make sure you followed all steps described in <strong>Subscribe a Consumer Subaccount</strong> (<a href="/PAA/project-panel/basic/subscribe-consumer-subaccount">click here</a>). You will need the service binding credentials which you created for the API Broker service instance in the Subscriber Subaccount. If you haven&#x27;t created this service binding yet, please go back and do it now. </p><p> <img loading="lazy" alt="&amp;lt;img src=&amp;quot;./images/API_ServiceKey.png&amp;quot; width=&amp;quot;400&amp;quot; /&amp;gt;" src="/PAA/assets/images/API_ServiceKey-29908c3d61c68eed91ccd6bab015ac3a.png" width="893" height="477" class="img_ev3q"></p><p>1.1. Get started by switching to the <strong>/code/http</strong> directory. Here you will find sample API calls that you can use to push sample data to Tenant database containers using the multitenant SaaS API. In this sample we will push <strong>Product</strong> sample data (<em>apiProducts.http</em>) to the SaaS API which will be stored in the respective Tenant database container. Make sure you have the required plugin (e.g., for VS Code) installed to execute requests in HTTP files.  </p><p>1.2. Each of the HTTP files contains a header section, in which you can provide the tenant-specific Client Credentials. Those are used to connect to the SaaS API as a specific Tenant. Please update the parameters using your Service Binding details. </p><blockquote><p><strong>Important</strong> - Make sure <strong>not to commit</strong> these details to GitHub! Either remove the credentials before saving or rename your HTTP files to <strong>-private.http</strong> (e.g., apiProducts-private.http), which are excluded by the <em>.gitignore</em> file. </p></blockquote><p> <img loading="lazy" alt="&amp;lt;img src=&amp;quot;./images/API_HttpCreds.png&amp;quot; width=&amp;quot;900&amp;quot; /&amp;gt;" src="/PAA/assets/images/API_HttpCreds-a9cd041fea8ad6f1c427bd157ee21dc8.png" width="1595" height="297" class="img_ev3q"></p><blockquote><p><strong>Hint</strong> - The <em>xsuaaHostname</em> is equal to the <em>uaa.url</em> parameter. The <em>apiEndpointBtp</em> equals the <em>apiUrl</em> parameter.</p></blockquote><p>1.3. After updating the relevant parameters based on your Tenant Subaccount Client Credentials, you can request an OAuth token for accessing the SaaS API. Therefore, execute the following request which will return a Bearer access token that can be used for the upcoming API calls. This token will allow the CAP framework to uniquely identify a certain Tenant and to connect it to the correct Tenant database container.</p><blockquote><p><strong>Important</strong> - If you&#x27;re facing an <strong>Unauthorized</strong> error, please try to URL-encode (various web-tools or npm packages available to do so) your Client ID and Secret and try to fetch a token again!</p></blockquote><div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># @name getXsuaaToken</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">POST {{xsuaaHostname}}/oauth/token</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Accept: application/json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/x-www-form-urlencoded</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client_id={{btpXsuaaClient}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&amp;client_secret={{btpXsuaaSecret}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&amp;grant_type=client_credentials</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>1.4. Once you obtained an access token, run the following request to upload sample products to the SaaS API on behalf of your current Subscriber Tenant. The respective product data will be stored in the Tenant database container and can be used to create new assessments in the SaaS sample application instance of the Tenant. The required access token is taken from the results of the previous OAuth request. </p><blockquote><p><strong>Hint</strong> - In the <strong>Advanced Features</strong>, you will learn that the sample EPM model provides the same data values, and that your subscriber&#x27;s on-premise solutions like SAP S/4HANA can use the same SaaS API endpoints to push this sample product data. </p></blockquote><div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@access_token = {{getXsuaaToken.response.body.$.access_token}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># @name uploadProductsBtp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">POST {{apiEndpointBtp}}/rest/api/bulkUpsertProducts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Authorization: Bearer {{access_token}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-type: application/json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;products&quot; : [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {&quot;ID&quot;:&quot;HT-1000&quot;,&quot;typeCode&quot;:&quot;PR&quot;,&quot;category&quot;:&quot;Notebooks&quot;,&quot;supplierId&quot;:&quot;0100000046&quot;,&quot;taxTarifCode&quot;:1,&quot;measureUnit&quot;:&quot;EA&quot;,&quot;weightMeasure&quot;:4.2,&quot;weightUnit&quot;:&quot;KG&quot;,&quot;price&quot;:956,&quot;text&quot;:&quot;Notebook Basic 15&quot;,&quot;language_code&quot;:&quot;E&quot;,&quot;currency_code&quot;:&quot;EUR&quot;},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {&quot;ID&quot;:&quot;HT-1001&quot;,&quot;typeCode&quot;:&quot;PR&quot;,&quot;category&quot;:&quot;Notebooks&quot;,&quot;supplierId&quot;:&quot;0100000047&quot;,&quot;taxTarifCode&quot;:1,&quot;measureUnit&quot;:&quot;EA&quot;,&quot;weightMeasure&quot;:4.5,&quot;weightUnit&quot;:&quot;KG&quot;,&quot;price&quot;:1249,&quot;text&quot;:&quot;Notebook Basic 17&quot;,&quot;language_code&quot;:&quot;E&quot;,&quot;currency_code&quot;:&quot;EUR&quot;},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {&quot;ID&quot;:&quot;HT-1002&quot;,&quot;typeCode&quot;:&quot;PR&quot;,&quot;category&quot;:&quot;Notebooks&quot;,&quot;supplierId&quot;:&quot;0100000048&quot;,&quot;taxTarifCode&quot;:1,&quot;measureUnit&quot;:&quot;EA&quot;,&quot;weightMeasure&quot;:4.2,&quot;weightUnit&quot;:&quot;KG&quot;,&quot;price&quot;:1570,&quot;text&quot;:&quot;Notebook Basic 18&quot;,&quot;language_code&quot;:&quot;E&quot;,&quot;currency_code&quot;:&quot;USD&quot;},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {&quot;ID&quot;:&quot;HT-1003&quot;,&quot;typeCode&quot;:&quot;PR&quot;,&quot;category&quot;:&quot;Notebooks&quot;,&quot;supplierId&quot;:&quot;0100000049&quot;,&quot;taxTarifCode&quot;:1,&quot;measureUnit&quot;:&quot;EA&quot;,&quot;weightMeasure&quot;:4.2,&quot;weightUnit&quot;:&quot;KG&quot;,&quot;price&quot;:1650,&quot;text&quot;:&quot;Notebook Basic 19&quot;,&quot;language_code&quot;:&quot;E&quot;,&quot;currency_code&quot;:&quot;EUR&quot;},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {&quot;ID&quot;:&quot;HT-1055&quot;,&quot;typeCode&quot;:&quot;PR&quot;,&quot;category&quot;:&quot;Multifunction Printers&quot;,&quot;supplierId&quot;:&quot;0100000069&quot;,&quot;taxTarifCode&quot;:1,&quot;measureUnit&quot;:&quot;EA&quot;,&quot;weightMeasure&quot;:6.3,&quot;weightUnit&quot;:&quot;KG&quot;,&quot;price&quot;:99,&quot;text&quot;:&quot;Multi Print&quot;,&quot;language_code&quot;:&quot;E&quot;,&quot;currency_code&quot;:&quot;EUR&quot;},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {&quot;ID&quot;:&quot;HT-1056&quot;,&quot;typeCode&quot;:&quot;PR&quot;,&quot;category&quot;:&quot;Multifunction Printers&quot;,&quot;supplierId&quot;:&quot;0100000070&quot;,&quot;taxTarifCode&quot;:1,&quot;measureUnit&quot;:&quot;EA&quot;,&quot;weightMeasure&quot;:4.3,&quot;weightUnit&quot;:&quot;KG&quot;,&quot;price&quot;:119,&quot;text&quot;:&quot;Multi Color&quot;,&quot;language_code&quot;:&quot;E&quot;,&quot;currency_code&quot;:&quot;JPY&quot;},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {&quot;ID&quot;:&quot;HT-1060&quot;,&quot;typeCode&quot;:&quot;PR&quot;,&quot;category&quot;:&quot;Mice&quot;,&quot;supplierId&quot;:&quot;0100000071&quot;,&quot;taxTarifCode&quot;:1,&quot;measureUnit&quot;:&quot;EA&quot;,&quot;weightMeasure&quot;:0.09,&quot;weightUnit&quot;:&quot;KG&quot;,&quot;price&quot;:9,&quot;text&quot;:&quot;Cordless Mouse&quot;,&quot;language_code&quot;:&quot;E&quot;,&quot;currency_code&quot;:&quot;EUR&quot;},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {&quot;ID&quot;:&quot;HT-1063&quot;,&quot;typeCode&quot;:&quot;PR&quot;,&quot;category&quot;:&quot;Keyboards&quot;,&quot;supplierId&quot;:&quot;0100000074&quot;,&quot;taxTarifCode&quot;:1,&quot;measureUnit&quot;:&quot;EA&quot;,&quot;weightMeasure&quot;:2.1,&quot;weightUnit&quot;:&quot;KG&quot;,&quot;price&quot;:14,&quot;text&quot;:&quot;Ergonomic Keyboard&quot;,&quot;language_code&quot;:&quot;E&quot;,&quot;currency_code&quot;:&quot;BRL&quot;},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {&quot;ID&quot;:&quot;HT-1120&quot;,&quot;typeCode&quot;:&quot;PR&quot;,&quot;category&quot;:&quot;Keyboards&quot;,&quot;supplierId&quot;:&quot;0100000065&quot;,&quot;taxTarifCode&quot;:1,&quot;measureUnit&quot;:&quot;EA&quot;,&quot;weightMeasure&quot;:1,&quot;weightUnit&quot;:&quot;KG&quot;,&quot;price&quot;:29,&quot;text&quot;:&quot;Cordless Bluetooth Keyboard&quot;,&quot;language_code&quot;:&quot;0&quot;,&quot;currency_code&quot;:&quot;EUR&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>1.5. Enrich the product data stored in your Tenant database container with further details, by using the following request. It will update existing product records with sales split details and additional sustainability notions. </p><blockquote><p><strong>Hint</strong> - You might ask yourself why these additional details are not part of the initial product data request?! Unfortunately, this advanced product information is not part of the EPM model and has been added for illustration purposes of a potential sustainability use-case. Therefore, it has to be provided by a manual upload or maintained in the SaaS application itself. </p></blockquote><blockquote><p><strong>Important</strong> - Do not use this API endpoint with a huge payload, as it processes the records one after another as the CAP CQL UPDATE feature does not yet allow us to provide multiple entity values at once.</p></blockquote><div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># @name uploadProductsExtendedBtp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">POST {{apiEndpointBtp}}/rest/api/bulkUpdateProducts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Authorization: Bearer {{access_token}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-type: application/json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;products&quot; : [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {&quot;ID&quot;: &quot;HT-1000&quot;,&quot;eolProductDesign&quot;: 43,&quot;traditionalSalesShare&quot;: 82,&quot;repairSalesShare&quot;: 8,&quot;resellSalesShare&quot;: 10},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {&quot;ID&quot;: &quot;HT-1001&quot;,&quot;eolProductDesign&quot;: 38,&quot;traditionalSalesShare&quot;: 97,&quot;repairSalesShare&quot;: 3,&quot;resellSalesShare&quot;: 0},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {&quot;ID&quot;: &quot;HT-1002&quot;,&quot;eolProductDesign&quot;: 35,&quot;traditionalSalesShare&quot;: 87,&quot;repairSalesShare&quot;: 5,&quot;resellSalesShare&quot;: 8},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {&quot;ID&quot;: &quot;HT-1003&quot;,&quot;eolProductDesign&quot;: 42,&quot;traditionalSalesShare&quot;: 74,&quot;repairSalesShare&quot;: 20,&quot;resellSalesShare&quot;: 6},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {&quot;ID&quot;: &quot;HT-1055&quot;,&quot;eolProductDesign&quot;: 56,&quot;traditionalSalesShare&quot;: 98,&quot;repairSalesShare&quot;: 1,&quot;resellSalesShare&quot;: 1},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {&quot;ID&quot;: &quot;HT-1056&quot;,&quot;eolProductDesign&quot;: 49,&quot;traditionalSalesShare&quot;: 95,&quot;repairSalesShare&quot;: 3,&quot;resellSalesShare&quot;: 2},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {&quot;ID&quot;: &quot;HT-1060&quot;,&quot;eolProductDesign&quot;: 25,&quot;traditionalSalesShare&quot;: 99,&quot;repairSalesShare&quot;: 0,&quot;resellSalesShare&quot;: 1},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {&quot;ID&quot;: &quot;HT-1063&quot;,&quot;eolProductDesign&quot;: 34,&quot;traditionalSalesShare&quot;: 97,&quot;repairSalesShare&quot;: 1,&quot;resellSalesShare&quot;: 2},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {&quot;ID&quot;: &quot;HT-1120&quot;,&quot;eolProductDesign&quot;: 28,&quot;traditionalSalesShare&quot;: 95,&quot;repairSalesShare&quot;: 2.5,&quot;resellSalesShare&quot;: 2.5}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>1.6. In case you want to go ahead and upload the same sample data which is also provided in the CSV test files (<a href="https://github.com/SAP-samples/btp-kyma-cap-multitenant-susaas/tree/basic/test/data" target="_blank" rel="noopener noreferrer">click here</a>), you can use the remaining HTTP files to do so. Simply provide the Tenant Subaccount specific Client Credentials in the header of the HTTP files and you&#x27;re ready to push the sample content to dedicated Subscriber tenants. Don&#x27;t forget to rename your files to *-private.http, preventing them from being committed to Git. </p><ul><li><a href="https://github.com/SAP-samples/btp-kyma-cap-multitenant-susaas/blob/basic/http/apiProducts.http" target="_blank" rel="noopener noreferrer">Products</a></li><li><a href="https://github.com/SAP-samples/btp-kyma-cap-multitenant-susaas/blob/basic/http/apiSalesOrders.http" target="_blank" rel="noopener noreferrer">Sales Orders</a></li><li><a href="https://github.com/SAP-samples/btp-kyma-cap-multitenant-susaas/blob/basic/http/apiRecyclingCountries.http" target="_blank" rel="noopener noreferrer">Recycling by Country</a></li><li><a href="https://github.com/SAP-samples/btp-kyma-cap-multitenant-susaas/blob/basic/http/apiRecyclingMaterials.http" target="_blank" rel="noopener noreferrer">Recycling by Material</a></li></ul><p>1.7. After pushing all data provided in the HTTP files, you will be able to progress with the next part of this tutorial and test the SaaS sample application end-to-end. You can create Assessments for the uploaded products and even <strong>prefill</strong> Sales Orders, Materials, and Recycling sample values. Below you can see a sample Assessment which was created based on the provided data of product <strong>HT-1000</strong>.</p><p> <img loading="lazy" alt="&amp;lt;img src=&amp;quot;./images/API_SampleHT1000.png&amp;quot; width=&amp;quot;700&amp;quot; /&amp;gt;" src="/PAA/assets/images/API_SampleHT1000-bd645085521974dcbbed545ac86b0c70.png" width="1542" height="925" class="img_ev3q"></p><p>1.8. Feel free to proceed with the next part of the tutorial and test the SaaS sample application end-to-end from a Subscriber perspective.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-further-information">2. Further Information<a href="#2-further-information" class="hash-link" aria-label="Direct link to 2. Further Information" title="Direct link to 2. Further Information">​</a></h2><p>Please use the following links to find further information on the topics above:</p><ul><li><a href="https://help.sap.com/docs/SERVICEMANAGEMENT/09cc82baadc542a688176dce601398de/6fcac08409db4b0f9ad55a6acd4d31c5.html?&amp;locale=en-US" target="_blank" rel="noopener noreferrer">SAP Help - Creating Service Keys in Cloud Foundry</a></li><li><a href="https://cap.cloud.sap/docs/node.js/cds-ql" target="_blank" rel="noopener noreferrer">Capire documentation - Embedded CQL with cds.ql</a></li><li><a href="https://docs.cloudfoundry.org/api/uaa/version/76.1.0/index.html#client-credentials-grant" target="_blank" rel="noopener noreferrer">Cloud Foundry Documentation - Client Credentials Grant</a></li><li><a href="https://marketplace.visualstudio.com/items?itemName=humao.rest-client" target="_blank" rel="noopener noreferrer">VS Code - REST Client</a></li><li><a href="https://help.sap.com/docs/HANA_CLOUD_DATABASE/c1d3f60099654ecfb3fe36ac93c121bb/ea8b6773be584203bcd99da76844c5ed.html?locale=en-US" target="_blank" rel="noopener noreferrer">SAP Help - HANA UPSERT Statement</a></li><li><a href="https://help.sap.com/docs/HANA_CLOUD_DATABASE/d1cb63c8dd8e4c35a0f18aef632687f0/d43d91578c3b42b3bacfd89aacf0d62f.html?locale=en-US" target="_blank" rel="noopener noreferrer">SAP Help - HANA Procedures</a></li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/PAA/project-panel/basic/subscribe-consumer-subaccount"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Subscribe a Tenant Subaccount</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/PAA/project-panel/basic/test-the-application"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Test the application</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-saas-api-access" class="table-of-contents__link toc-highlight">1. SaaS API access</a></li><li><a href="#2-further-information" class="table-of-contents__link toc-highlight">2. Further Information</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/PAA/">Overview</a></li></ul></div><div class="col footer__col"><div class="footer__title">SAP Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://blogs.sap.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blogs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://answers.sap.com/index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Q&amp;A<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discovery-center.cloud.sap/index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discovery Center<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/SAP-samples/btp-kyma-cap-multitenant-susaas" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Repo<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></footer></div>
<script src="/PAA/assets/js/runtime~main.bb064a4d.js"></script>
<script src="/PAA/assets/js/main.542c5efa.js"></script>
</body>
</html>