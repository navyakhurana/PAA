<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-project-panel/basic/explore-the-components/components/HelperClasses">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Deep Dive into Helper Classes | Build resilient apps with SAP BTP</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://navyakhurana.github.io/PAA/project-panel/basic/explore-the-components/components/HelperClasses"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Deep Dive into Helper Classes | Build resilient apps with SAP BTP"><meta data-rh="true" name="description" content="In this part of the tutorial, you will learn about the different helper classes implemented in the business application service. These classes mainly support the automation of the Tenant subscription process. Furthermore, they contain the logic of the in-app user management."><meta data-rh="true" property="og:description" content="In this part of the tutorial, you will learn about the different helper classes implemented in the business application service. These classes mainly support the automation of the Tenant subscription process. Furthermore, they contain the logic of the in-app user management."><link data-rh="true" rel="icon" href="/PAA/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://navyakhurana.github.io/PAA/project-panel/basic/explore-the-components/components/HelperClasses"><link data-rh="true" rel="alternate" href="https://navyakhurana.github.io/PAA/project-panel/basic/explore-the-components/components/HelperClasses" hreflang="en"><link data-rh="true" rel="alternate" href="https://navyakhurana.github.io/PAA/project-panel/basic/explore-the-components/components/HelperClasses" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://SX6JA1B3F5-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Build resilient apps with SAP BTP" href="/PAA/opensearch.xml">

<script src="js/custom.js" async></script><link rel="stylesheet" href="/PAA/assets/css/styles.f9497dcc.css">
<link rel="preload" href="/PAA/assets/js/runtime~main.e8dbf826.js" as="script">
<link rel="preload" href="/PAA/assets/js/main.79499448.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/PAA/"><div class="navbar__logo"><img src="/PAA/img/githubFolder.png" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/PAA/img/githubFolder.png" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Develop a multitenant Software as a Service application in SAP BTP using CAP</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/SAP-samples/btp-kyma-cap-multitenant-susaas" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/PAA/">OVERVIEW</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/PAA/category/project-panel">PROJECT PANEL</a><button aria-label="Toggle the collapsible sidebar category &#x27;PROJECT PANEL&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/PAA/category/discover">Discover</a><button aria-label="Toggle the collapsible sidebar category &#x27;Discover&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/PAA/category/basic">Basic</a><button aria-label="Toggle the collapsible sidebar category &#x27;Basic&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/PAA/project-panel/basic/introduction-basic-version">Introduction to the Basic Version</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/PAA/project-panel/basic/understand-repo-structure">Understand the Repository Structure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/PAA/project-panel/basic/prepare-provider-subaccount">Prepare the Provider Subaccount</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/PAA/project-panel/basic/build-your-docker-images">Build, Pack and Push your Docker Images</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/PAA/project-panel/basic/deploy-saas-application">Deploy the SaaS application</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/PAA/project-panel/basic/subscribe-consumer-subaccount">Subscribe a Tenant Subaccount</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/PAA/project-panel/basic/push-data-to-saas-api">Push data to the SaaS API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/PAA/project-panel/basic/test-the-application">Test the application</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/PAA/project-panel/basic/kyma-resources-helm">Helm Charts and Kyma resources</a><button aria-label="Toggle the collapsible sidebar category &#x27;Helm Charts and Kyma resources&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/PAA/project-panel/basic/explore-the-components">Explore the application components</a><button aria-label="Toggle the collapsible sidebar category &#x27;Explore the application components&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/PAA/category/components-1">Components</a><button aria-label="Toggle the collapsible sidebar category &#x27;Components&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/PAA/project-panel/basic/explore-the-components/components/HelperClasses">Deep Dive into Helper Classes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/PAA/project-panel/basic/explore-the-components/components/Multitenancy">Deep Dive into Multitenancy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/PAA/project-panel/basic/explore-the-components/components/ServiceBrokers">Deep Dive into Service Brokers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/PAA/project-panel/basic/explore-the-components/components/SharedContainer">Shared Database Container</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/PAA/project-panel/basic/unsubscribe-consumer-subaccount">Optional - Unsubscribe from a Consumer Subaccount</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/PAA/project-panel/basic/undeploy-saas-application">Optional - Undeploy the SaaS Application</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/PAA/category/advanced">Advanced</a><button aria-label="Toggle the collapsible sidebar category &#x27;Advanced&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/PAA/category/expert">Expert</a><button aria-label="Toggle the collapsible sidebar category &#x27;Expert&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/PAA/support">SUPPORT</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/PAA/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/PAA/category/project-panel"><span itemprop="name">PROJECT PANEL</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/PAA/category/basic"><span itemprop="name">Basic</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/PAA/project-panel/basic/explore-the-components"><span itemprop="name">Explore the application components</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/PAA/category/components-1"><span itemprop="name">Components</span></a><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Deep Dive into Helper Classes</span><meta itemprop="position" content="5"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Deep Dive into Helper Classes</h1><p>In this part of the tutorial, you will learn about the different helper classes implemented in the business application service. These classes mainly support the automation of the Tenant subscription process. Furthermore, they contain the logic of the in-app user management.  </p><ul><li><a href="#deep-dive-into-helper-classes">Deep Dive into Helper Classes</a><ul><li><a href="#1-overview">1. Overview</a></li><li><a href="#2-automator">2. Automator</a></li><li><a href="#3-cloud-management-helper">3. Cloud Management Helper</a></li><li><a href="#4-service-manager-helper">4. Service Manager Helper</a></li><li><a href="#5-token-helper">5. Token Helper</a></li><li><a href="#6-destination-helper">6. Destination Helper</a></li><li><a href="#7-api-rule-helper">7. API Rule Helper</a></li><li><a href="#8-user-management-helper">8. User Management Helper</a></li><li><a href="#9-alert-notification-helper">9. Alert Notification Helper</a></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-overview">1. Overview<a href="#1-overview" class="hash-link" aria-label="Direct link to 1. Overview" title="Direct link to 1. Overview">​</a></h2><p>The table below shows all helper classes used by the Sustainable SaaS business application service:</p><table><thead><tr><th>Util</th><th>Source Code</th><th>Description</th></tr></thead><tbody><tr><td><a href="#2-Automator">Automator</a></td><td><a href="https://github.com/SAP-samples/btp-kyma-cap-multitenant-susaas/blob/main/code/srv/utils/automator.js" target="_blank" rel="noopener noreferrer">automator.js</a></td><td>Helper class for automatic creation and deletion of artifacts on Tenant (un-)subscription</td></tr><tr><td><a href="#3-Cloud-Management-Helper">Cloud-Management-Helper</a></td><td><a href="https://github.com/SAP-samples/btp-kyma-cap-multitenant-susaas/blob/main/code/srv/utils/cis-central.js" target="_blank" rel="noopener noreferrer">cis-central.js</a></td><td>Helper class interacting with Cloud Management Service (central plan)</td></tr><tr><td><a href="#4-Service-Manager-Helper">Service-Manager-Helper</a></td><td><a href="https://github.com/SAP-samples/btp-kyma-cap-multitenant-susaas/blob/main/code/srv/utils/service-manager.js" target="_blank" rel="noopener noreferrer">service-manager.js</a></td><td>Helper class interacting with Service Manager Subaccount (admin plan)</td></tr><tr><td><a href="#5-Token-Helper">Token-Helper</a></td><td><a href="https://github.com/SAP-samples/btp-kyma-cap-multitenant-susaas/blob/main/code/srv/utils/token-utils.js" target="_blank" rel="noopener noreferrer">token-utils.js</a></td><td>Helper class retrieving tokens from relevant OAuth2 servers</td></tr><tr><td><a href="#6-Destination-Helper">Destination-Helper</a></td><td><a href="https://github.com/SAP-samples/btp-kyma-cap-multitenant-susaas/blob/main/code/srv/utils/destination.js" target="_blank" rel="noopener noreferrer">destination.js</a></td><td>Helper module interacting with the SAP Destination Service</td></tr><tr><td><a href="#7-API-Rule-Helper">API-Rule-Helper</a></td><td><a href="https://github.com/SAP-samples/btp-kyma-cap-multitenant-susaas/blob/main/code/srv/utils/destination.js" target="_blank" rel="noopener noreferrer">apiRule.js</a></td><td>Helper module interacting with SAP Kyma Runtime API Rule CRD&#x27;s</td></tr><tr><td><a href="#8-User-Management-Helper">User-Management-Helper</a></td><td><a href="https://github.com/SAP-samples/btp-kyma-cap-multitenant-susaas/blob/main/code/srv/utils/user-management-utils.js" target="_blank" rel="noopener noreferrer">user-management.js</a></td><td>Helper class for User and Role management interacting with SAP Identity Authentication and XSUAA</td></tr><tr><td><a href="#9-Alert-Notification-Helper">Alert-Notification-Helper</a></td><td><a href="https://github.com/SAP-samples/btp-kyma-cap-multitenant-susaas/blob/main/code/srv/utils/alertNotification.js" target="_blank" rel="noopener noreferrer">alertNotification.js</a></td><td>Helper class for interacting with SAP Alert Notification service</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-automator">2. Automator<a href="#2-automator" class="hash-link" aria-label="Direct link to 2. Automator" title="Direct link to 2. Automator">​</a></h2><p>For effortless Tenant on-offboarding in the SaaS context, it is essential to automate the process of onboarding as much as it can be automated. Therefore, the sample application automates as many steps as possible during the subscription of the SaaS Tenant instance. The <a href="https://github.com/SAP-samples/btp-kyma-cap-multitenant-susaas/blob/main/code/srv/utils/automator.js" target="_blank" rel="noopener noreferrer">Automator</a> module helps to provide a fully automated, self-service (un-) subscription experience.</p><p>The Automator is responsible for the following topics:</p><ul><li>Creation of destinations in a Consumer Subaccount on subscription with the help of <a href="https://github.com/SAP-samples/btp-kyma-cap-multitenant-susaas/blob/main/code/srv/utils/destination.js" target="_blank" rel="noopener noreferrer">destination.js</a>.</li><li>Deletion of destinations from Consumer Subaccount on unsubscription with the help of <a href="https://github.com/SAP-samples/btp-kyma-cap-multitenant-susaas/blob/main/code/srv/utils/destination.js" target="_blank" rel="noopener noreferrer">destination.js</a>.</li><li>Creation of a Cloud Management service instance &amp; binding within the Provider Subaccount <a href="https://github.com/SAP-samples/btp-kyma-cap-multitenant-susaas/blob/main/code/srv/utils/cis-central.js" target="_blank" rel="noopener noreferrer">cis-central.js</a></li><li>Deletion of a Cloud Management service instance &amp; binding from the Provider Subaccount <a href="https://github.com/SAP-samples/btp-kyma-cap-multitenant-susaas/blob/main/code/srv/utils/cis-central.js" target="_blank" rel="noopener noreferrer">cis-central.js</a></li><li>Creation of a service manager service instance &amp; binding within a Consumer Subaccount with the help of <a href="https://github.com/SAP-samples/btp-kyma-cap-multitenant-susaas/blob/main/code/srv/utils/cis-central.js" target="_blank" rel="noopener noreferrer">cis-central.js</a>.</li><li>Deletion of a service manager service instance &amp; binding from a Consumer Subaccount with the help of <a href="https://github.com/SAP-samples/btp-kyma-cap-multitenant-susaas/blob/main/code/srv/utils/cis-central.js" target="_blank" rel="noopener noreferrer">cis-central.js</a>.</li><li>Registering of a service broker in a Consumer Subaccount on subscription with the help of <a href="https://github.com/SAP-samples/btp-kyma-cap-multitenant-susaas/blob/main/code/srv/utils/service-manager.js" target="_blank" rel="noopener noreferrer">service-manager.js</a>.</li><li>Unregistering of a service broker from a Consumer Subaccount on unsubscription with the help of <a href="https://github.com/SAP-samples/btp-kyma-cap-multitenant-susaas/blob/main/code/srv/utils/service-manager.js" target="_blank" rel="noopener noreferrer">service-manager.js</a>.</li></ul><p>When a Tenant subscribes to the Sustainable SaaS app,</p><ol><li>A new Cloud Management Service instance (central plan) will be created in the Provider Subaccount. </li><li>A new Service Manager instance will be created in the Consumer Subaccount using the Cloud Management Service instance.</li><li>The API Broker will be registered by the Service Manager instance created in step 2.</li><li>A sample destination called <strong>*<!-- -->_S4HANA_CLOUD</strong> will be created.</li><li>The Service Manager instance created in step 2 will be deleted again.</li><li>The Cloud Management Service instance created in step 1 will be deleted again.</li></ol><p>When a Tenant unsubscribes from the Sustainable SaaS app,</p><ol><li>A new Cloud Management Service instance (central plan) will be created in the Provider Subaccount. </li><li>A new Service Manager instance will be created in the Consumer Subaccount using the Cloud Management Service instance.</li><li>The API Broker will be unregistered by the Service Manager instance created in Step 2.</li><li>The <strong>*<!-- -->_S4HANA_CLOUD</strong> destination will be deleted.</li><li>The Service Manager instance created in Step 2 will be deleted.</li><li>The Cloud Management Service instance created in step 1 will be deleted again.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-cloud-management-helper">3. Cloud Management Helper<a href="#3-cloud-management-helper" class="hash-link" aria-label="Direct link to 3. Cloud Management Helper" title="Direct link to 3. Cloud Management Helper">​</a></h2><p><a href="#https://help.sap.com/docs/BTP/65de2977205c403bbc107264b8eccf4b/17b6a171552544a6804f12ea83112a3f.html?locale=en-US&amp;q=Cloud%20Management%20Central">SAP BTP Cloud Management Service</a> enables SAP BTP administrators to handle administrative tasks via APIs.</p><p>In this Sustainable SaaS application context, we are using <strong>SAP BTP Cloud Management Service</strong> to create and delete Service Manager instances in Consumer Subaccounts. To be able to do this, the Cloud Management helper class also contains functions to create and to delete a new Cloud Management Service instance (central plan) on runtime within the Provider Subaccount.</p><p>Only a Cloud Management Service instance of plan &quot;central&quot; and grant type <strong>clientCredentials</strong> can be used to create service instances in other subaccounts (like in this case a service manager instance). This special type of Cloud Management Service cannot be created during deployment, but has to be created and deleted during runtime, using a dedicated service manager instance of plan &quot;subaccount-admin&quot;. The default service manager instance used by Kyma (plan service-operator-access) cannot be used to create such an instance. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-service-manager-helper">4. Service Manager Helper<a href="#4-service-manager-helper" class="hash-link" aria-label="Direct link to 4. Service Manager Helper" title="Direct link to 4. Service Manager Helper">​</a></h2><p>Service Manager is a central registry for service brokers and platforms. It tracks service instances creation and allows sharing of services and service instances between different platform instances. The Service Manager allows an application to use services and service instances of multiple platforms.</p><p>The <a href="https://github.com/SAP-samples/btp-kyma-cap-multitenant-susaas/blob/main/code/srv/utils/service-manager.js" target="_blank" rel="noopener noreferrer">Service Manager helper</a> module is used for (un-)registering the API Broker in the Sustainable SaaS App context by interacting with the <a href="https://api.sap.com/api/APIServiceManagment/overview" target="_blank" rel="noopener noreferrer">Service Manager service instance</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-token-helper">5. Token Helper<a href="#5-token-helper" class="hash-link" aria-label="Direct link to 5. Token Helper" title="Direct link to 5. Token Helper">​</a></h2><p>The <a href="https://github.com/SAP-samples/btp-kyma-cap-multitenant-susaas/blob/main/code/srv/utils/token-utils.js" target="_blank" rel="noopener noreferrer">Token helper</a> module is used for retrieving tokens from OAuth2 servers using the client credentials type.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="6-destination-helper">6. Destination Helper<a href="#6-destination-helper" class="hash-link" aria-label="Direct link to 6. Destination Helper" title="Direct link to 6. Destination Helper">​</a></h2><p><a href="/PAA/project-panel/basic/explore-the-components/components/user-management.js">Destination Helper Module</a> is used for retrieving, creating, and deleting destinations in any given subaccount.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="7-api-rule-helper">7. API Rule Helper<a href="#7-api-rule-helper" class="hash-link" aria-label="Direct link to 7. API Rule Helper" title="Direct link to 7. API Rule Helper">​</a></h2><p><a href="/PAA/project-panel/basic/explore-the-components/components/apiRule.js">API Rule Helper Module</a> is used during subscription, to create new API Rules in the Kyma cluster. These API rules expose a dedicated host for each Subscriber like <strong>customer.saasapp.com</strong>. If user creating the subscription does not provide a custom domain, the default host pattern incl. the subaccount subdomain will be used like <strong>customer-379a13f-susaas-router-susaas.saasapp.com</strong>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="8-user-management-helper">8. User Management Helper<a href="#8-user-management-helper" class="hash-link" aria-label="Direct link to 8. User Management Helper" title="Direct link to 8. User Management Helper">​</a></h2><p>The <a href="https://github.com/SAP-samples/btp-kyma-cap-multitenant-susaas/blob/main/code/srv/utils/user-management-utils.js" target="_blank" rel="noopener noreferrer">User Management Helper</a> module is used for handling users and role assignments on both SAP IAS and XSUAA. For this use-case, it is required to allow in-app user management for consumers.</p><p><strong>Requirements</strong></p><ol><li>A Tenant administrator should be able to create users without accessing the SAP BTP Consumer Subaccount.</li><li>A Tenant administrator should be able to assign role collections to users without accessing the SAP BTP Consumer Subaccount.</li><li>A Tenant administrator should be able to delete users without accessing the SAP BTP Consumer Subaccount.</li></ol><p><strong>How does the creation of a user work?</strong></p><ol><li>A User is created in <a href="https://help.sap.com/docs/IDENTITY_AUTHENTICATION/6d6d63354d1242d185ab4830fc04feb1/d17a116432d24470930ebea41977a888.html?version=Cloud&amp;locale=en-US" target="_blank" rel="noopener noreferrer">SAP IAS</a> (<strong>Only if IAS usage is enabled!</strong>).</li><li>An XSUAA shadow user is created in the SAP BTP Consumer Subaccount.</li><li>The chosen role is assigned to the Shadow User for authorization purposes.</li></ol><p><strong>How does the deletion of a user work?</strong></p><ol><li>The user is deleted from the Tenant Subaccount.</li><li>The User is deleted from SAP IAS (<strong>Only if IAS usage is enabled!</strong>).</li></ol><p>To be able to provide this functionality, the User-Management-Helper interacts with SAP IAS APIs as well as XSUAA APIs.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="9-alert-notification-helper">9. Alert Notification Helper<a href="#9-alert-notification-helper" class="hash-link" aria-label="Direct link to 9. Alert Notification Helper" title="Direct link to 9. Alert Notification Helper">​</a></h2><p>The <a href="https://github.com/SAP-samples/btp-kyma-cap-multitenant-susaas/blob/main/code/srv/utils/alertNotification.js" target="_blank" rel="noopener noreferrer">Alert Notification Helper</a> helper is used to interact with SAP BTP Alert Notification Service. In this sample, the provided functions allow you to send a generic notification to recipients of the event.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-08-14T02:55:46.000Z">Aug 14, 2023</time></b> by <b>Navya khurana</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/PAA/category/components-1"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Components</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/PAA/project-panel/basic/explore-the-components/components/Multitenancy"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Deep Dive into Multitenancy</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-overview" class="table-of-contents__link toc-highlight">1. Overview</a></li><li><a href="#2-automator" class="table-of-contents__link toc-highlight">2. Automator</a></li><li><a href="#3-cloud-management-helper" class="table-of-contents__link toc-highlight">3. Cloud Management Helper</a></li><li><a href="#4-service-manager-helper" class="table-of-contents__link toc-highlight">4. Service Manager Helper</a></li><li><a href="#5-token-helper" class="table-of-contents__link toc-highlight">5. Token Helper</a></li><li><a href="#6-destination-helper" class="table-of-contents__link toc-highlight">6. Destination Helper</a></li><li><a href="#7-api-rule-helper" class="table-of-contents__link toc-highlight">7. API Rule Helper</a></li><li><a href="#8-user-management-helper" class="table-of-contents__link toc-highlight">8. User Management Helper</a></li><li><a href="#9-alert-notification-helper" class="table-of-contents__link toc-highlight">9. Alert Notification Helper</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/PAA/">Overview</a></li></ul></div><div class="col footer__col"><div class="footer__title">SAP Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://blogs.sap.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blogs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://answers.sap.com/index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Q&amp;A<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discovery-center.cloud.sap/index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discovery Center<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/SAP-samples/btp-kyma-cap-multitenant-susaas" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Repo<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></footer></div>
<script src="/PAA/assets/js/runtime~main.e8dbf826.js"></script>
<script src="/PAA/assets/js/main.79499448.js"></script>
</body>
</html>