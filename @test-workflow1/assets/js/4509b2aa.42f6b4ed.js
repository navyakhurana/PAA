"use strict";(self.webpackChunkpaa_doc=self.webpackChunkpaa_doc||[]).push([[38],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>g});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=a.createContext({}),l=function(e){var t=a.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=l(e.components);return a.createElement(d.Provider,{value:t},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,d=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=l(n),u=r,g=m["".concat(d,".").concat(u)]||m[u]||c[u]||i;return n?a.createElement(g,o(o({ref:t},p),{},{components:n})):a.createElement(g,o({ref:t},p))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=u;var s={};for(var d in t)hasOwnProperty.call(t,d)&&(s[d]=t[d]);s.originalType=e,s[m]="string"==typeof e?e:r,o[1]=s;for(var l=2;l<i;l++)o[l]=n[l];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},17401:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>c,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var a=n(87462),r=(n(67294),n(3905));const i={sidebar_position:2},o="Advanced Version Repository details",s={unversionedId:"project-panel/advanced/understand-repo-details/README",id:"project-panel/advanced/understand-repo-details/README",title:"Advanced Version Repository details",description:"This part of the tutorial will briefly outline where to find the major differences of the Advanced Version. Compared to the Basic Version, the Advanced Version requires you to enable a few additional settings in the values.yaml file of our Umbrella Chart, and will also make use of additional code snippets based on additional Service Instances and Service Bindings like Cloud Identity Service.",source:"@site/docs/project-panel/3-advanced/1-understand-repo-details/README.md",sourceDirName:"project-panel/3-advanced/1-understand-repo-details",slug:"/project-panel/advanced/understand-repo-details/",permalink:"/PAA/@test-workflow1/project-panel/advanced/understand-repo-details/",draft:!1,tags:[],version:"current",lastUpdatedBy:"Navya Khurana",lastUpdatedAt:1739895491,formattedLastUpdatedAt:"Feb 18, 2025",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Advanced Version Introduction",permalink:"/PAA/@test-workflow1/project-panel/advanced/introduction-advanced-version/"},next:{title:"Prepare the Provider Subaccount",permalink:"/PAA/@test-workflow1/project-panel/advanced/prepare-provider-subaccount/"}},d={},l=[{value:"Umbrella Chart Updates",id:"umbrella-chart-updates",level:2},{value:"Central User Management",id:"central-user-management",level:3},{value:"SAP API Management Integration",id:"sap-api-management-integration",level:3},{value:"Additional Code Snippets",id:"additional-code-snippets",level:2}],p={toc:l},m="wrapper";function c(e){let{components:t,...i}=e;return(0,r.kt)(m,(0,a.Z)({},p,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"advanced-version-repository-details"},"Advanced Version Repository details"),(0,r.kt)("p",null,"This part of the tutorial will briefly outline where to find the major differences of the ",(0,r.kt)("strong",{parentName:"p"},"Advanced Version"),". Compared to the ",(0,r.kt)("strong",{parentName:"p"},"Basic Version"),", the ",(0,r.kt)("strong",{parentName:"p"},"Advanced Version")," requires you to enable a few additional settings in the ",(0,r.kt)("em",{parentName:"p"},"values.yaml")," file of our ",(0,r.kt)("strong",{parentName:"p"},"Umbrella Chart"),", and will also make use of additional code snippets based on additional Service Instances and Service Bindings like ",(0,r.kt)("strong",{parentName:"p"},"Cloud Identity Service"),". "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#advanced-version-repository-details"},"Advanced Version Repository details"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#umbrella-chart-updates"},"Umbrella Chart Updates"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#central-user-management"},"Central User Management")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#sap-api-management-integration"},"SAP API Management Integration")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#additional-code-snippets"},"Additional Code Snippets"))))),(0,r.kt)("h2",{id:"umbrella-chart-updates"},"Umbrella Chart Updates"),(0,r.kt)("p",null,"In the Umbrella Chart, a you need to toggle the creation of additional services and bindings which are not required in the ",(0,r.kt)("strong",{parentName:"p"},"Basic Version"),". The respective steps will also be part of the upcoming chapters, still we will list the required ",(0,r.kt)("strong",{parentName:"p"},"values.yaml")," changes in this overview. "),(0,r.kt)("h3",{id:"central-user-management"},"Central User Management"),(0,r.kt)("p",null,"Enabling the following configuration will create a new ",(0,r.kt)("strong",{parentName:"p"},"Cloud Identity")," Service Instance of type ",(0,r.kt)("strong",{parentName:"p"},"application")," upon ",(0,r.kt)("em",{parentName:"p"},"helm install")," or ",(0,r.kt)("em",{parentName:"p"},"helm upgrade"),". Please make sure to read the respective ",(0,r.kt)("a",{parentName:"p",href:"/PAA/@test-workflow1/project-panel/advanced/central-user-management-ias/"},"chapter")," before enabling this scenario!"),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("mdxAdmonitionTitle",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"mdxAdmonitionTitle"},"Important")," "),(0,r.kt)("p",{parentName:"admonition"},"The Integration with SAP Identity Authentication requires both additional entitlements in your SAP BTP Subaccount as well as a SAP Identity Authentication tenant.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"# SAP Cloud Identity Service Instance\n# Provides an SAP IAS integration for central user management\nidentity:\n  enabled: true # Enable if an SAP IAS instance is configured as Trusted Identity Provider\n  serviceOfferingName: identity\n  servicePlanName: application\n    ...\n")),(0,r.kt)("p",null,"Enabling the following configuration will create a Service Binding between your ",(0,r.kt)("strong",{parentName:"p"},"Backend Service")," and the above ",(0,r.kt)("strong",{parentName:"p"},"Cloud Identity")," Service Instance upon ",(0,r.kt)("em",{parentName:"p"},"helm install")," or ",(0,r.kt)("em",{parentName:"p"},"helm upgrade"),". In this case a special binding type (X.509) is required, while for all other Service Bindings we are using the standard Client Credential binding. Please make sure to read the respective ",(0,r.kt)("a",{parentName:"p",href:"/PAA/@test-workflow1/project-panel/advanced/central-user-management-ias/"},"chapter")," before you enable this scenario!"),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("mdxAdmonitionTitle",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"mdxAdmonitionTitle"},"Important")," "),(0,r.kt)("p",{parentName:"admonition"},"The Integration with SAP Identity Authentication requires both additional entitlements in your SAP BTP Subaccount as well as a SAP Identity Authentication tenant.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"srv:\n  port: 8080\n  bindings:\n    xsuaa:\n      serviceInstanceName: xsuaa\n    ...\n    identity:\n      # Only enable if Cloud Identity Service instance is enabled in Umbrella Chart \n      enabled: true \n      serviceInstanceName: identity\n      # SAP IAS binding requires X.509 certificate based credentials\n      parameters:\n        credential-type: X509_GENERATED\n  image:\n    ...\n")),(0,r.kt)("h3",{id:"sap-api-management-integration"},"SAP API Management Integration"),(0,r.kt)("p",null,"By enabling and updating the following configuration, your application is ready for the integration with SAP API Management. Please make sure to read the respective ",(0,r.kt)("a",{parentName:"p",href:"/PAA/@test-workflow1/project-panel/advanced/integrate-sap-api-management/"},"chapter")," before you enable this scenario!"),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("mdxAdmonitionTitle",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"mdxAdmonitionTitle"},"Important")," "),(0,r.kt)("p",{parentName:"admonition"},"The Integration with SAP API Management requires additional entitlements in your SAP BTP Subaccount.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'# SaaS API Workload\napi:\n  ...\n  # Settings for SAP API Management integration\n  apim:\n    # Only enable if SAP API Management instance is configured\n    enabled: true\n    # SAP API Management runtime host w/o "https://" or port\n    host: sap-demo.prod.apimanagement.us20.hana.ondemand.com\n    # Port of SAP API Management runtime host\n    port: 443\n    # Path of API Proxy in SAP API Management\n    path: susaas-api\n    # Provide details of the API XSUAA Service Instance\n    # Those details can be found in the respective Kyma Secret\n    # The Secret is created for the xsuaa-apim serviceKey\n    xsuaa: \n      # Provide the XSUAA tenant host without https://\n      # e.g., sap-demo.authentication.us20.hana.ondemand.com\n      host: sap-demo.authentication.us20.hana.ondemand.com\n      # Provide the xsappname of your API XSUAA Service Instance \n      # Add the prefix "sb-" to the xsappname like, sb-susaas-api-default\n      sub: sb-susaas-api-default\n  resources:\n    ...\n')),(0,r.kt)("h2",{id:"additional-code-snippets"},"Additional Code Snippets"),(0,r.kt)("p",null,"The additional code snippets serving the ",(0,r.kt)("strong",{parentName:"p"},"Advanced Version")," features of this tutorial, can be found in the ",(0,r.kt)("strong",{parentName:"p"},"User Management")," utilities of our ",(0,r.kt)("strong",{parentName:"p"},"Backend Service"),". Visit the respective utils file (",(0,r.kt)("a",{parentName:"p",href:"../../../code/srv/utils/user-management.js"},"srv/utils/user-management.js"),") to find the code snippets described. "),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("mdxAdmonitionTitle",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"mdxAdmonitionTitle"},"Hint")," "),(0,r.kt)("p",{parentName:"admonition"},"Compared to the Cloud Foundry version of this tutorial, we decided to merge the ",(0,r.kt)("strong",{parentName:"p"},"Basic")," and ",(0,r.kt)("strong",{parentName:"p"},"Advanced Version")," into the same codeline, by simply checking the availability of the SAP Cloud Identity Service Binding. ")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},(0,r.kt)("strong",{parentName:"th"},"Code Sample")),(0,r.kt)("th",{parentName:"tr",align:"left"},(0,r.kt)("strong",{parentName:"th"},"Description")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("img",{alt:"&lt;img src=&quot;./images/UserManagement01.png&quot; width=&quot;300&quot;/&gt;",src:n(68854).Z,width:"738",height:"207"})),(0,r.kt)("td",{parentName:"tr",align:"left"},"Read Cloud Identity service binding details using xsenv.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("img",{alt:"&lt;img src=&quot;./images/UserManagement02.png&quot; width=&quot;300&quot;/&gt;",src:n(95606).Z,width:"525",height:"254"})),(0,r.kt)("td",{parentName:"tr",align:"left"},"Methods for checking the Cloud Identity service binding.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("img",{alt:"&lt;img src=&quot;./images/UserManagement03.png&quot; width=&quot;300&quot;/&gt;",src:n(44153).Z,width:"639",height:"305"})),(0,r.kt)("td",{parentName:"tr",align:"left"},"Setting the user origin based on SAP IAS usage.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("img",{alt:"&lt;img src=&quot;./images/UserManagement04.png&quot; width=&quot;300&quot;/&gt;",src:n(88609).Z,width:"698",height:"418"})),(0,r.kt)("td",{parentName:"tr",align:"left"},"Methods for creating and deleting users in SAP IAS.")))))}c.isMDXComponent=!0},68854:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/UserManagement01-cda443b295fb97ae2043dcb2ab2ad982.png"},95606:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/UserManagement02-0d311ab4c874f80ac6814a07eb9fb910.png"},44153:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/UserManagement03-02d0e5736e56690b60f959505a59cbe3.png"},88609:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/UserManagement04-5ec39555f9f9c7e8b28a6be1935a497f.png"}}]);